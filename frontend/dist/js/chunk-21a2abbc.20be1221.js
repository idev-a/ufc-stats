(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21a2abbc","chunk-3b78c514"],{"28f7":function(t,e,n){"use strict";n("e8ab")},"61b9":function(t,e,n){"use strict";n("6a0b")},"6a0b":function(t,e,n){},"8ed3":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"pa-0",attrs:{id:"contest",fluid:"",tag:"section"}},[n("v-card",{staticClass:"grey lighten-4 mt-0 pa-0",class:{"fixed-card":t.$vuetify.breakpoint.smAndUp},attrs:{loading:t.loading}},[n("v-card-title",{staticClass:"justify-center font-weight-medium mb-md-3"},[t.event?n("div",{staticClass:"text-center"},[n("div",[t._v(t._s(this.event.name))]),n("div",{staticClass:"subtitle-2"},[t._v(t._s(t._f("beautifyDate")(this.event.date)))])]):t._e()]),n("v-card-text",{staticClass:"pb-0"},[n("v-virtual-scroll",{attrs:{items:t.bouts,"item-height":50,height:"300"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.item;return[n("toggle-switch",{key:i.id,attrs:{options:t.myOptions(i)},model:{value:t.contests[i.id],callback:function(e){t.$set(t.contests,i.id,e)},expression:"contests[item.id]"}})]}}])}),n("div",{staticClass:"d-flex justify-center w-100"},[n("v-btn",{staticClass:"grey darken-4 mt-2 mb-2",attrs:{disabled:t.submitDisabled,small:""},on:{click:t.submit}},[t._v("Submit")])],1)],1)],1),n("v-snackbar",{attrs:{timeout:3e3,color:t.snackbar.status},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.attrs;return[n("v-btn",t._b({attrs:{dark:"",text:""},on:{click:function(e){t.snackbar.snack=!1}}},"v-btn",i,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.snack,callback:function(e){t.$set(t.snackbar,"snack",e)},expression:"snackbar.snack"}},[t._v(" "+t._s(t.snackbar.message)+" ")])],1)},a=[],s=(n("4de4"),n("b0c0"),n("96cf"),n("1da1")),r=n("5530"),o=n("b899"),l=n("e0eb"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("ul",{staticClass:"toggle-switch",class:{square:t.defaultOptions.layout.squareCorners},style:t.toggleSwitchStyle},t._l(t.defaultOptions.items.labels,(function(e,i){return n("li",{key:i,style:t.itemStyle},[n("input",{attrs:{disabled:t.defaultOptions.items.disabled||t.disabled,id:e.id+t.group,name:t.name,type:"radio"},domProps:{value:e.id},on:{click:t.toggle}}),e.id==t.selectedItem?n("label",{staticClass:"selected",class:{active:!t.defaultOptions.items.disabled||t.disabled},style:t.labelStyleSelected(e.color,e.backgroundColor),attrs:{for:e.id+t.group,type:"radio"}},[t._v(" "+t._s(e.name)+" ")]):n("label",{class:{active:!t.defaultOptions.items.disabled||t.disabled},style:t.labelStyle,attrs:{for:e.id+t.group,type:"radio"}},[t._v(" "+t._s(e.name)+" ")])])})),0)])},u=[],d=(n("ac1f"),n("5319"),n("53ca")),h=function(t){return t+"s"},f=function(t){return t+"rem"},p={name:"ToggleSwitch",props:{options:{type:Object,required:!1},value:{type:String,required:!1},name:{type:String,required:!1},group:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1}},created:function(){this.defaultOptions={layout:{color:"black",backgroundColor:"lightgray",selectedColor:"white",selectedBackgroundColor:"green",borderColor:"gray",fontFamily:"Arial",fontWeight:"normal",fontWeightSelected:"bold",squareCorners:!1,noBorder:!1},size:{fontSize:.8,height:2.25,width:8},items:{delay:.4,preSelected:"unknown",disabled:!1,labels:[{name:"Off",color:"white",backgroundColor:"red"},{name:"On",color:"white",backgroundColor:"green"}]}}},mounted:function(){null!==this.options&&void 0!==this.options&&this.mergeDefaultOptionsWithProp(this.options),"unknown"!==this.defaultOptions.items.preSelected?(this.selectedItem=this.defaultOptions.items.preSelected,this.$emit("input",this.selectedItem)):this.value&&(this.selectedItem=this.value,this.$emit("input",this.selectedItem))},data:function(){return{selected:!1,selectedItem:"unknown",defaultOptions:Object}},computed:{toggleSwitchStyle:function(){return{"min-width":f(this.defaultOptions.size.width),"min-height":f(this.defaultOptions.size.height)}},itemStyle:function(){return{width:f(this.defaultOptions.size.width),height:f(this.defaultOptions.size.height),fontFamily:this.defaultOptions.layout.fontFamily,fontSize:f(this.defaultOptions.size.fontSize),textAlign:"center"}},labelStyle:function(){return{padding:f(this.defaultOptions.size.padding),borderColor:this.defaultOptions.layout.noBorder?"transparent":this.defaultOptions.layout.borderColor,backgroundColor:this.defaultOptions.layout.backgroundColor,color:this.defaultOptions.layout.color,fontWeight:this.defaultOptions.layout.fontWeight,transition:h(this.defaultOptions.items.delay)}}},methods:{toggle:function(t){this.defaultOptions.items.disabled||(this.selected=!0,this.selectedItem=t.target.id.replace(this.group,""),this.$emit("selected",this.selected),this.$emit("input",this.selectedItem),this.$emit("change",{value:t.target.id.replace(this.group,""),srcEvent:t}))},labelStyleSelected:function(t,e){return{padding:f(this.defaultOptions.size.padding),borderColor:this.defaultOptions.layout.noBorder?"transparent":this.defaultOptions.layout.borderColor,fontWeight:this.defaultOptions.layout.fontWeightSelected,backgroundColor:void 0!==e?e:this.defaultOptions.layout.selectedBackgroundColor,color:void 0!==t?t:this.defaultOptions.layout.selectedColor,transition:h(this.defaultOptions.items.delay)}},mergeDefaultOptionsWithProp:function(t){var e=this.defaultOptions;for(var n in t)if(null!==t[n]&&"object"===Object(d["a"])(t[n]))for(var i in t[n])void 0!==t[n][i]&&null!==t[n][i]&&(e[n][i]=t[n][i]);else e[n]=t[n]}},watch:{value:function(t){this.selectedItem=t},options:function(t){null!==t&&void 0!==t&&this.mergeDefaultOptionsWithProp(t)}}},b=p,g=(n("28f7"),n("2877")),m=n("6544"),v=n.n(m),y=n("b0af"),k=Object(g["a"])(b,c,u,!1,null,"4583c6b9",null),O=k.exports;v()(k,{VCard:y["a"]});var w=n("2f62"),C={name:"Selection",components:{ToggleSwitch:O},data:function(){return{loading:!1,bouts:[],event:null,fighters:[],selectedItem:-1,contests:{},snackbar:{snack:!1,message:"",status:"success"}}},watch:{contests:{handler:function(t){},deep:!0}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(w["d"])("auth",["authUser"])),Object(w["b"])("auth",["isAuthenticated"])),{},{bgHeight:function(){return this.$vuetify.breakpoint.height-147},submitDisabled:function(){return this.loading||!this.event||this.bouts.length<1}}),filters:{beautifyDate:l["a"]},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.getFighters();case 3:return e.next=5,t.getLatestBouts();case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},methods:{authenticate:function(t){this.response=null;var e=this;this.$auth.authenticate(t).then((function(t){e.isAuthenticated=e.$auth.isAuthenticated(),e.response=t.body.profile})).catch((function(t){e.isAuthenticated=e.$auth.isAuthenticated(),e.response=t}))},getLatestBouts:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("api/latest_event/");case 2:n=e.sent,i=n.data,t.bouts=i.bouts,t.event=i.event;case 6:case"end":return e.stop()}}),e)})))()},getFighters:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("api/fighters/");case 2:n=e.sent,i=n.data,t.fighters=i.results;case 5:case"end":return e.stop()}}),e)})))()},_fighter:function(t){var e=this.fighters.filter((function(e){return e.id==t}));return e[0]},myOptions:function(t){var e=this._fighter(t.fighter1),n=this._fighter(t.fighter2);return{items:{delay:.4,preSelected:"unknown",disabled:!1,labels:[{name:e.name,id:e.id,color:"white",backgroundColor:"green"},{name:n.name,id:n.id,color:"white",backgroundColor:"green"}]}}},submit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,i,a,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.isAuthenticated){e.next=3;break}return t.$store.commit("auth/showLoginDlg"),e.abrupt("return");case 3:for(a in n=t.bouts[0].event,i=[],t.contests)i.push({event:n,user:t.authUser.pk,bout:a,fighter:t.contests[a]});return e.next=8,o["a"].post("api/entries/",i);case 8:s=e.sent,l=s.data,t.snackbar=Object(r["a"])(Object(r["a"])({},l),{},{snack:!0});case 11:case"end":return e.stop()}}),e)})))()}}},S=C,_=(n("61b9"),n("8336")),j=n("99d9"),x=n("a523"),$=n("2db4"),z=n("0de5"),W=Object(g["a"])(S,i,a,!1,null,null,null);e["default"]=W.exports;v()(W,{VBtn:_["a"],VCard:y["a"],VCardText:j["b"],VCardTitle:j["c"],VContainer:x["a"],VSnackbar:$["a"],VVirtualScroll:z["a"]})},a523:function(t,e,n){"use strict";n("99af"),n("4de4"),n("b64b"),n("2ca0"),n("20f6"),n("4b85"),n("a15b"),n("498a");var i=n("2b0e");function a(t){return i["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,n){var i=n.props,a=n.data,s=n.children;a.staticClass="".concat(t," ").concat(a.staticClass||"").trim();var r=a.attrs;if(r){a.attrs={};var o=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));o.length&&(a.staticClass+=" ".concat(o.join(" ")))}return i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),e(i.tag,a,s)}})}var s=n("d9f7");e["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n,i=e.props,a=e.data,r=e.children,o=a.attrs;return o&&(a.attrs={},n=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}))),i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),t(i.tag,Object(s["a"])(a,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(n||[])}),r)}})},e8ab:function(t,e,n){}}]);
//# sourceMappingURL=chunk-21a2abbc.20be1221.js.map